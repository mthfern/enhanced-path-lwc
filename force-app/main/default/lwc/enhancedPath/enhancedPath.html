<template>
  <div class="slds-card">
    <div class="slds-card__body slds-card__body_inner">
      <div class="slds-path">
        <div class="slds-grid slds-path__track">
          <div class="slds-grid slds-path__scroller-container">
            <div class="slds-path__scroller">
              <div class="slds-path__scroller_inner">
                <ul class="slds-path__nav" role="listbox" aria-orientation="horizontal">
                  <template for:each={items} for:item="item">
                    <template if:false={item.isHidden}>
                      <li
                        key={item.id}
                        class={item.className}
                        role="presentation"
                        data-id={item.id}
                        onclick={handleItemClick}
                      >
                        <a
                          aria-selected="false"
                          class="slds-path__link"
                          href="#"
                          id={item.id}
                          role="option"
                          tabindex="-1"
                        >
                          <span class="slds-path__stage">
                            <svg class="slds-icon slds-icon_x-small" aria-hidden="true">
                              <use
                                xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#check"
                              ></use>
                            </svg>
                          </span>
                          <span class="slds-path__title">{item.labelDisplay}</span>
                        </a>
                      </li>
                    </template>
                  </template>
                </ul>
              </div>
            </div>
          </div>
          <template if:true={isLoaded}>
            <div class="slds-grid slds-path__action">
              <span class="slds-path__stage-name">Stage: {currentItem.labelDisplay}</span>
              <button
                class="slds-button slds-button_brand slds-path__mark-complete"
                onclick={handleButtonClick}
              >
                <svg class="slds-button__icon slds-button__icon_left" aria-hidden="true">
                  <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#check"></use></svg
                ><span>{buttonLabel}</span>
              </button>
            </div>
          </template>
        </div>
      </div>
    </div>
  </div>
  <template if:true={showClosedModal}>
    <c-ok-cancel-modal title={closeModalTitle} onmodalreturn={handleClosedModalReturn}>
      <c-single-combobox-modal-content options={closedOptions}></c-single-combobox-modal-content>
    </c-ok-cancel-modal>
  </template>
</template>
